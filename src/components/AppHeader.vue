<template>
    <nav class="border-gray-200 dark:bg-gray-900">
        <div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl px-4 md:px-6 py-2.5">
            <svg class="w-6 h-6" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
            <g>
                <path class="st0 from-purple-600 to-blue-500" d="M349.34,221.677c-9.318,0-16.881,7.557-16.881,16.875c0,9.33,7.564,16.882,16.881,16.882
                    c9.318,0,16.888-7.551,16.888-16.882C366.228,229.235,358.658,221.677,349.34,221.677z" style="fill: rgb(48, 63, 159);"></path>
                <path class="st0 from-purple-600 to-blue-500" d="M496.09,257.951l-75.021-64.922l40.76-105.984l0.019-0.062h-0.006c0.677-1.816,1.022-3.705,1.022-5.576
                    c0-5.354-2.721-10.499-7.472-13.466c-2.584-1.619-5.514-2.413-8.382-2.413c0,0-0.012,0-0.019,0c-0.006,0-0.006,0-0.006,0
                    c-0.019,0-0.037,0-0.05,0c-0.018,0-0.018,0.012-0.036,0.012c-4.265,0.012-8.494,1.772-11.558,5.09l-69.224,74.843l-18.402-15.915
                    l-17.208-43.598c-2.769-7.028-9.238-11.915-16.733-12.665c-0.727-0.086-1.41-0.111-2.038-0.111c-6.819,0-13.232,3.458-16.968,9.268
                    l-37.129,57.752c-14.755,5.687-29.341,8.949-42.791,12.955h-0.006c-7.25,2.185-14.226,4.616-20.715,8.068
                    c-6.481,3.452-12.518,8.032-17.257,14.315h0.003c-2.643,3.483-4.529,7.176-5.69,10.88c-1.16,3.693-1.588,7.324-1.588,10.69v0.044
                    c0.019,5.711,1.145,10.708,2.025,14.973l0.003,0.019c0.911,4.222,1.597,7.858,1.591,10.72v0.086
                    c-0.006,1.723-0.2,3.176-0.658,4.646c-0.471,1.484-1.179,2.954-2.524,4.745c-1.253,1.656-2.379,2.672-3.523,3.465l0.015-0.006
                    c-1.984,1.342-4.074,2.043-7.191,2.511l0.01-0.006c-2.277,0.338-5.028,0.462-8.114,0.591h-0.01
                    c-4.597,0.221-10.142,0.406-16.133,2.283h-0.003c-2.997,0.96-6.078,2.375-9.01,4.419c-2.93,2.03-5.653,4.652-8.056,7.84
                    l-0.102,0.129l0.108-0.129c-2.646,3.483-4.532,7.176-5.693,10.881c-1.16,3.692-1.584,7.324-1.584,10.684v0.061
                    c0.015,5.724,1.141,10.709,2.024,14.962l0.003,0.025c0.911,4.215,1.597,7.853,1.588,10.715v0.086c0,1.724-0.2,3.176-0.655,4.646
                    h0.003c-0.474,1.471-1.182,2.948-2.527,4.746h0.003c-1.253,1.636-2.379,2.664-3.517,3.452l-0.028,0.024
                    c-1.97,1.317-4.053,2.013-7.145,2.474h0.003c-2.274,0.339-5.026,0.456-8.108,0.585h-0.012c-4.594,0.221-10.143,0.406-16.128,2.283
                    h-0.006c-2.997,0.954-6.077,2.37-9.01,4.412l0.262-0.178l-0.256,0.172c-2.935,2.037-5.658,4.659-8.059,7.846l0.003-0.006
                    c-2.643,3.49-4.533,7.189-5.69,10.887c-1.16,3.699-1.588,7.318-1.588,10.684v0.062c0.022,5.717,1.145,10.709,2.028,14.961
                    l0.006,0.012c0.908,4.228,1.594,7.859,1.588,10.728v0.086c-0.003,1.723-0.2,3.176-0.659,4.652c-0.47,1.465-1.175,2.936-2.507,4.721
                    l-0.01,0.006c-2.618,3.435-5.56,5.613-9.434,7.706c-2.865,1.538-6.216,2.936-9.874,4.505l-0.01,0.006
                    c-5.434,2.376-11.82,5.194-17.623,10.518c-2.896,2.658-5.554,5.933-7.718,9.834c-2.166,3.896-3.828,8.376-4.957,13.466L0,446.471
                    h65.39h13.912h8.391h227.515l37.911-95.904l83.964,16.685l0.018-0.098c2.37,0.369,4.751,0.628,7.114,0.628
                    c14.303,0,28.015-6.678,36.816-18.408l21.762-29.018c6.173-8.222,9.207-17.952,9.207-27.59v-0.031
                    C512,279.836,506.547,266.985,496.09,257.951z M441.791,89.759l-12.887,33.516l-14.709-3.686L441.791,89.759z M406.354,128.081
                    l18.888,4.72l-5.976,15.528l-24.55-7.668L406.354,128.081z M387.103,148.902l28.519,8.905l-9.767,25.406l-28.046-24.273
                    L387.103,148.902z M75.157,428.747H23.553c1.72-2.892,3.692-4.923,6.145-6.708c2.117-1.526,4.607-2.837,7.438-4.149
                    c4.237-1.944,9.222-3.784,14.404-6.572c5.154-2.782,10.536-6.647,14.952-12.506c2.474-3.274,4.218-6.702,5.289-10.118
                    c1.074-3.422,1.474-6.788,1.471-9.958c-0.012-5.391-1.08-10.192-1.975-14.475c-0.918-4.296-1.659-8.08-1.647-11.342
                    c0.003-1.926,0.234-3.662,0.776-5.41c0.551-1.736,1.416-3.52,2.917-5.502c1.391-1.84,2.742-3.077,4.096-4.012
                    c2.366-1.625,4.932-2.437,8.24-2.924c2.471-0.363,5.284-0.486,8.37-0.609c4.618-0.222,9.89-0.406,15.487-2.167
                    c2.785-0.892,5.628-2.203,8.327-4.08c2.702-1.878,5.231-4.303,7.481-7.281c2.477-3.274,4.222-6.702,5.293-10.124
                    c1.074-3.416,1.474-6.794,1.468-9.952c-0.01-5.404-1.08-10.192-1.976-14.481c-0.914-4.29-1.655-8.075-1.64-11.33
                    c0-1.932,0.228-3.674,0.772-5.416c0.551-1.73,1.418-3.515,2.917-5.502c1.394-1.834,2.742-3.077,4.102-4.025
                    c2.366-1.612,4.933-2.437,8.247-2.917c2.465-0.363,5.278-0.486,8.367-0.615c4.619-0.222,9.89-0.407,15.484-2.179
                    c2.791-0.88,5.635-2.185,8.333-4.068c2.702-1.877,5.232-4.308,7.484-7.293c2.477-3.274,4.222-6.696,5.293-10.118
                    c1.074-3.422,1.474-6.794,1.471-9.958c-0.013-5.397-1.08-10.192-1.973-14.475c-0.917-4.296-1.659-8.074-1.647-11.336
                    c0.003-1.926,0.232-3.668,0.776-5.416c0.551-1.736,1.415-3.514,2.914-5.502c2.896-3.816,6.619-6.77,11.459-9.355
                    c7.228-3.877,16.922-6.708,28.141-9.749c4.911-1.329,10.12-2.744,15.524-4.344L75.157,428.747z M488.613,309.721l-21.762,29.012
                    c-5.404,7.226-13.848,11.324-22.636,11.324c-2.018,0-4.056-0.222-6.086-0.665l-0.044-0.012l-96.008-19.073l-38.92,98.439H93.217
                    L310.851,90.208l-1.17,1.834c0.456-0.714,1.231-1.132,2.056-1.132l0.191,0.006l0.056,0.006c0.917,0.093,1.698,0.683,2.043,1.539
                    l18.808,47.647L484.49,271.355c6.45,5.588,9.773,13.429,9.78,21.411C494.269,298.693,492.429,304.626,488.613,309.721z" style="fill: rgb(48, 63, 159);"></path>
            </g>
            </svg>
            <span>INNOVATION SUPPORT</span>
            <div v-if="token" class="items-center" @click="getDetail()" >
                <router-link to="/mypage" class="flex text-sm text-gray-600 font-medium dark:text-blue-500 hover:underline">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 mr-2 text-gray-600 ">
                        <path fill-rule="evenodd" d="M4.5 3.75a3 3 0 00-3 3v10.5a3 3 0 003 3h15a3 3 0 003-3V6.75a3 3 0 00-3-3h-15zm4.125 3a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zm-3.873 8.703a4.126 4.126 0 017.746 0 .75.75 0 01-.351.92 7.47 7.47 0 01-3.522.877 7.47 7.47 0 01-3.522-.877.75.75 0 01-.351-.92zM15 8.25a.75.75 0 000 1.5h3.75a.75.75 0 000-1.5H15zM14.25 12a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H15a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5h3.75a.75.75 0 000-1.5H15z" clip-rule="evenodd" />
                    </svg>
                    <span class="text-small">{{ detail.userName }} さん</span>
                </router-link>
            </div>
            <div v-if="!token" class="items-center" >
                <router-link to="/mypage" class="flex text-sm text-gray-600 font-medium dark:text-blue-500 hover:underline">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="mr-1 w-6 h-6 text-gray-600">
                    <path fill-rule="evenodd" d="M7.5 3.75A1.5 1.5 0 006 5.25v13.5a1.5 1.5 0 001.5 1.5h6a1.5 1.5 0 001.5-1.5V15a.75.75 0 011.5 0v3.75a3 3 0 01-3 3h-6a3 3 0 01-3-3V5.25a3 3 0 013-3h6a3 3 0 013 3V9A.75.75 0 0115 9V5.25a1.5 1.5 0 00-1.5-1.5h-6zm5.03 4.72a.75.75 0 010 1.06l-1.72 1.72h10.94a.75.75 0 010 1.5H10.81l1.72 1.72a.75.75 0 11-1.06 1.06l-3-3a.75.75 0 010-1.06l3-3a.75.75 0 011.06 0z" clip-rule="evenodd" />
                    </svg>
                    <span class="text-small">ログイン</span>
                </router-link>
            </div>
        </div>
    </nav>
</template>

<script>

export default {
  name: 'app-headrer',
  components: {
  },
  data() {
    return {
    }
  },
  computed: {
    isAuthorized() {
      const token = this.token;
      if (token === '') {
        return false;
      } else {
        return true;
      }
    },
    userId() {
        return this.$store.getters['userStore/userId'];
    },
    detail() {
        return this.$store.getters['userStore/detail'];
    },
    token() {
        return this.$store.getters['userStore/token'];
    },
  },
  created() {
    if (this.isAuthorized) {
        this.getDetail().then(() => {});
    }
  },
  methods: {
    getDetail() {
        const token = this.token;
        return this.$store
        .dispatch('userStore/getDetail',token);
    },
  }
}
</script>



<style scoped>
    nav {
        background: white;
        z-index: 10000;
        position: sticky;
    }

    span {
        letter-spacing: 0.05em;
        font-weight: bold;
        font-size: 1rem;
    }

    span.text-small {
        letter-spacing: 0.01em;
        font-size: 0.7rem;
    }
</style>